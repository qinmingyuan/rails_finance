<div>
  <dt><%= Finance::Budget.human_attribute_name(:subject) %></dt>
  <td>
    <%= @budget.subject %>
  </td>
</div>
<div>
  <dt><%= Finance::Budget.human_attribute_name(:state) %></dt>
  <td>
    <span class="ui label"><%= @budget.state_i18n %></span>
  </td>
</div>
<div>
  <dt><%= Finance::Budget.human_attribute_name(:expense_items) %></dt>
  <td class="positive">
    <%= render partial: 'items', locals: { expense_items: @budget.expense_items } %>
  </td>
</div>
<div>
  <dt><%= Finance::Budget.human_attribute_name(:amount) %></dt>
  <td>
    <%= @budget.amount %>
  </td>
</div>
<div>
  <dt><%= Finance::Budget.human_attribute_name(:note) %></dt>
  <td>
    <%= @budget.note %>
  </td>
</div>
<div>
  <dt><%= Finance::Budget.human_attribute_name(:checks) %></dt>
  <td>
    <table class="table is-fullwidth is-borderless">
      <% @budget.all_verifications.each do |verification| %>
        <div>
          <dt><%= Finance::Budget.enum_i18n(:state, verification.state) %></dt>
          <dt><%= verification.note %></dd>
          <dt><%= verification.member&.name %></dd>
        </div>
      <% end %>
    </table>
  </td>
</div>
<div>
  <dt><%= Finance::Budget.human_attribute_name(:items) %></dt>
  <td>
    <%= link_to 'items', direct_data_list_table_lists_path('BudgetItemExport', expense_id: @budget.id, format: 'xlsx') %>
  </td>
</div>
<div>
  <td>
  </td>
  <td>
    <% if @budget.init? %>
      <%= link_to t('finance.me.budgets.submit.title'), { action: 'submit', id: @budget.id }, method: :patch, data: { turbo_confirm: t('.confirm') }, class: 'button is-small' %>
    <% end %>
    <% Expense.types.each do |_, type| %>
      <%= link_to "Transfer to #{Finance::Budget.enum_i18n(:type, type.to_s)}", { action: 'transfer', id: @budget.id, type: type }, method: :patch, class: 'button is-small' %>
    <% end %>
  </td>
</div>
